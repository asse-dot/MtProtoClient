//this is an autogenerated file!!
//!!!!!!!!!!
package telegram.raw.types;

import telegram.raw.core.TlObject;
import telegram.raw.core.primitives.BytesPrimitive;
import telegram.raw.core.primitives.StringPrimitive;
import telegram.raw.core.primitives.VectorPrimitive;
import telegram.raw.core.primitives.integers.IntPrimitive;
import telegram.raw.core.primitives.integers.LongPrimitive;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.util.ArrayList;

public class ChatInvite extends TlObject {

    public static final int ID = 806110401;

    public boolean channel;
	public boolean broadcast;
	public boolean publicv;
	public boolean megagroup;
	public boolean request_needed;
	public String title;
	public String about;
	public TlObject photo;
	public int participants_count;
	public ArrayList<TlObject> participants;

    public ChatInvite(boolean channel, boolean broadcast, boolean publicv, boolean megagroup, boolean request_needed, String title, String about, TlObject photo, int participants_count, ArrayList<TlObject> participants) {
        this.channel = channel;
		this.broadcast = broadcast;
		this.publicv = publicv;
		this.megagroup = megagroup;
		this.request_needed = request_needed;
		this.title = title;
		this.about = about;
		this.photo = photo;
		this.participants_count = participants_count;
		this.participants = participants;
    }

    public static ChatInvite read(ByteArrayInputStream bytes) throws IOException {
        int flags = IntPrimitive.read(bytes).getValue();
		boolean channel = (flags & (1 << 0)) != 0;
		boolean broadcast = (flags & (1 << 1)) != 0;
		boolean publicv = (flags & (1 << 2)) != 0;
		boolean megagroup = (flags & (1 << 3)) != 0;
		boolean request_needed = (flags & (1 << 6)) != 0;
		String title = StringPrimitive.read(bytes).getValue();
		String about = (flags & (1 << 5)) != 0 ?  StringPrimitive.read(bytes).getValue() : null;
		TlObject photo = TlObject.read(bytes);
		int participants_count = IntPrimitive.read(bytes).getValue();
		ArrayList<TlObject> participants = (flags & (1 << 4)) != 0 ?  ((VectorPrimitive)TlObject.read(bytes)).getValue() : null;
		
		return new ChatInvite(channel, broadcast, publicv, megagroup, request_needed, title, about, photo, participants_count, participants);
    }

    @Override
    public byte[] write() throws IOException {
        ByteArrayOutputStream bOut = new ByteArrayOutputStream();
		
		bOut.write(new IntPrimitive(ID).write());
		int flags = 0;
		flags |= this.channel ? (1 << 0) : 0;
		flags |= this.broadcast ? (1 << 1) : 0;
		flags |= this.publicv ? (1 << 2) : 0;
		flags |= this.megagroup ? (1 << 3) : 0;
		flags |= this.request_needed ? (1 << 6) : 0;
		flags |= (this.about != null) ? (1 << 5) : 0;
		flags |= (this.participants != null) ? (1 << 4) : 0;
		
		
		bOut.write(new IntPrimitive(flags).write());
		bOut.write(new StringPrimitive(this.title).write());
		if(this.about != null)
			bOut.write(new StringPrimitive(this.about).write());
		bOut.write(this.photo.write());
		bOut.write(new IntPrimitive(this.participants_count).write());
		if(this.participants != null)
			bOut.write(new VectorPrimitive(this.participants).write());
		
		return bOut.toByteArray();
    }
}
